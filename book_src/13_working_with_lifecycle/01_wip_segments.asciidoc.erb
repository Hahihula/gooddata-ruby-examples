=== Working with segments
by Tomas Svarovsky

This is WIP. It should not be released publicly until we are ready

==== Problem
You would like to spin up a segment and project with livecycle menagement support.

==== Solution

You can use Lifecycle management API to conveniently spin up projects and distribute reports and ETL for large number of customers. First let's define some terminology.

Organization - Organization is an object that represents your organiation at gooddata. It contains information about your users, your whitelabeling data etc. All created projects are assigned to this particular organization.

Segment - When you are working with larger number of projects (each project for a customer) it is common to provide different tiers of customers different user experience. These tiers are called segments on API and each segment can have many clients assigned.

Client - Is referring to a project assigned to a certain segment identified by an id provided by your customer. Client is assigned to particular segment.

Having defined some terminology we present code that will do several things.

- sets up a segment with master project (along with some data and dashboard)
- creates a client (without a project) and assigns it to the project
- releases new master project
- spins up project for client (this will ensure client's project has the same model, dashboard but no data )
- changes the dashboard in master
- make another release
- synchronize the clients with updated version
- adds a client
- creates a project for it as well

<%= render_ruby 'src/13_working_with_lifecycle/example.rb' %>